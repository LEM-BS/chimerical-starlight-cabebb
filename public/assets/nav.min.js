function c(e){if(!e)return"";let t=e.startsWith("/")?e:`/${e}`;return t=t.replace(/\/index\.html$/,"/"),t=t.replace(/\.html$/,""),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t||"/"}function i(){if(typeof document=="undefined"||document.querySelector('script[src^="https://cdn.trustindex.io/loader.js"]'))return;let e=document.createElement("script");e.src="https://cdn.trustindex.io/loader.js?f82e0f551228447e6c06f9b86c7",e.async=!0,document.head.appendChild(e)}function s(e,t){if(!e||!t)return!1;let n=t.classList.toggle("nav-open");return e.classList.toggle("open",n),e.setAttribute("aria-expanded",String(n)),n}function u(){if(typeof document=="undefined")return;let e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-links");if(e&&t){let n=()=>{typeof window!="undefined"&&window.innerWidth>=768&&(t.classList.remove("nav-open"),e.classList.remove("open"),e.setAttribute("aria-expanded","false"))};e.setAttribute("aria-expanded","false"),e.addEventListener("click",()=>{s(e,t)}),typeof window!="undefined"&&(n(),window.addEventListener("resize",n))}if(typeof window!="undefined"){let n=c(new URL(window.location.pathname,window.location.origin).pathname);n&&document.querySelectorAll(".main-nav a").forEach(r=>{let d=r.getAttribute("href");if(!d)return;let a=c(new URL(d,window.location.origin).pathname);a&&a===n&&r.setAttribute("aria-current","page")})}}function o(){u(),i()}typeof document!="undefined"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o,{once:!0}):o());typeof window!="undefined"&&(window.loadTrustIndex=i,window.LEMNav={init:o,setupNav:u,loadTrustIndex:i,toggleNav:s});export{o as init,i as loadTrustIndex,u as setupNav,s as toggleNav};
